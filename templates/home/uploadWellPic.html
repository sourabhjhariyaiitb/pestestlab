{% extends 'home/base.html'%}
{% load static%}
{% block content %}

<head>  <link type="text/css" href="{% static 'home/css/style.css' %}" rel="stylesheet">
<style>
   #form{
      width:100%;
      padding:3%;
    }
    #form label{
      color: black;
      font-size: 18px;
    }
  
  
</style>
</head>

  <!-- add  side nav -->
  <div id="side-form" class="center">
    <div >
      <form id ='form' class="container section" enctype="multipart/form-data" method="post">
        {% csrf_token %}
        <label for="img" id="selectimg" style="font-size:14px; padding-right:20px;">Browse image from your device:</label>
        <input type="file"  accept="image/*" name="picture" id="file"  onchange="loadFile(event)" required>
        <p><img id="output" width="300"/></p>

                  <script>
                  var loadFile = function(event) {
                    var image = document.getElementById('output');
                    image.src = URL.createObjectURL(event.target.files[0]);
                    document.getElementById("selectimg").style.display="none";
                  };
                  </script>

        <div class="input-field">
          <input placeholder="Enter your name" id="name" type="text" name="name" required>
          <label for="title">Name</label>
        </div>          
        <div class="input-field">
          <input placeholder="Enter the name of the well(if any)" id="wellnm" type="text" name="well_nm">
          <label for="title">Name of the well</label>
        </div>
        <div class="input-field">
          <input placeholder="Enter the radius of the well" id="radius" type="number" name="radius" >
          <label for="title">Radius(in metres)</label>
        </div>
        <div class="input-field">
          <input placeholder="Enter the depth of the well" id="depth" type="number" name="depth">
          <label for="title">Depth(in metres)</label>
        </div>
        <div class="input-field">
          <input placeholder="Enter the water level of the well" id="level" type="number" name="level">
          <label style="height: auto;" for="title">Water level(in metres)</label>
        </div>
        <div class="input-field">
          <input placeholder="Enter village name" id="Village" type="text" name="village" required>
          <label for="title">Village</label>
        </div>
        <div class="input-field">
          <input placeholder="Enter the district" id="district" type="text" name="district" required>
          <label for="title">District</label>
        </div>
        <div class="input-field">
          <input placeholder="Enter the state" id="state" type="text" name="state" required>
          <label for="title">State</label>
        </div>
        <div class="input-field">
          <input placeholder="Enter the pincode" id="pincode" type="text" name="pincode" required>
          <label for="title">Pincode</label>
        </div>
        <div class="input-field">
          <input placeholder="Allow location access to capture your location" id="lat" type="text" name="lat" readonly="readonly" required>
          <label for="title">Latitude</label>
        </div>
        <div class="input-field">
          <input placeholder="Allow location access to capture your location" id="lng" type="text" name="lng" readonly="readonly" required>
          <label for="title">Longitude</label>
        </div>

        <div class="input-section center">
        <a id="location-btn" class="waves-effect waves-light btn-small" style=" background-color: #4CAF50; visibility: hidden;">Get Location</a>

          <div class="preloader-wrapper small active" id="location-loader">
            <div class="spinner-layer spinner-green-only">
              <div class="circle-clipper left">
                <div class="circle"></div>
              </div><div class="gap-patch">
                <div class="circle"></div>
              </div><div class="circle-clipper right">
                <div class="circle"></div>
              </div>
            </div>
          </div>

        </div>

        
        <div class="input-field center">
          <button class="btn-small" type="submit" name="action" style=" background-color: #4CAF50;">Submit</button>
        </div>
        
      </form>
      <script>
        window.onload = function(){
  document.getElementById('location-btn').click();
}
      </script>
    </div>


    <div class="center">
      <a class="btn-floating btn-small btn-large close-btn">
        <i class="material-icons" style=" background-color: #4CAF50;">close</i>
      </a>
    </div>
  </div>
 
  {% block javascript %}
{% if messages %}
{% for message in messages %}
    
{% if messages %}
{% for message in messages %}
  <script>M.toast({html: "{{message}}", classes: 'green rounded', displayLength:2000});</script>
{% endfor %}
{% endif %}
{% endfor %}
{% endif %}
{% endblock javascript %}
{% endblock %}

  
